<app-alert
  [message]="alertMessage"
  [class]="alertClass"
  [isVisible]="showAlert"
  [title]="alertTitle"
  [iconClass]="alertIconClass"
></app-alert>
<div
  *ngIf="isLoading"
  class="d-flex justify-content-center align-items-center vh-100"
>
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Carregando...</span>
  </div>
</div>

<div *ngIf="!isLoading">
  <form *ngIf="curriculumForm" [formGroup]="curriculumForm" class="form">
    <h3>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="35"
        height="35"
        fill="currentColor"
        class="bi bi-arrow-left-circle"
        viewBox="0 0 16 16"
        routerLink="/"
      >
        <path
          fill-rule="evenodd"
          d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"
        />
      </svg>
      Dados pessoais
    </h3>
    <div class="close-form" *ngIf="hasCurriculum">
      <button type="button" class="close-button" (click)="deleteCurriculum()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          fill="currentColor"
          class="bi bi-trash3-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"
          />
        </svg>
      </button>
    </div>
    <div class="row">
      <div class="col-12">
        <label for="nameUser" class="form-label">Nome Completo</label>
        <input
          type="text"
          name="nameUser"
          id="nameUser"
          placeholder="Nome completo"
          class="form-control"
          formControlName="name"
        />
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-5">
        <label for="dateOfBirthUser" class="form-label"
          >Data de Nascimento</label
        >
        <input
          type="text"
          name="dateOfBirthUser"
          id="dateOfBirthUser"
          placeholder="dd/mm/aaaa"
          class="form-control"
          mask="00/00/0000"
          formControlName="dateOfBirth"
        />
      </div>
      <div class="col-12 col-md-2">
        <label for="ageUser" class="form-label">Idade</label>
        <input
          type="number"
          name="ageUser"
          id="ageUser"
          class="form-control"
          placeholder="Idade"
          formControlName="age"
        />
      </div>
      <div class="col-12 col-md-5">
        <label class="form-label">Gênero</label>
        <select
          class="form-select"
          formControlName="gender"
          aria-label="Default select example"
        >
          <option value="">Selecione</option>
          <option value="Masculino">Masculino</option>
          <option value="Feminino">Feminino</option>
          <option value="Não-binário">Não-binário</option>
          <option value="Prefiro não informar">Prefiro não informar</option>
          <option value="Outro">Outro</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-6">
        <label class="form-label">Telefone</label>
        <input
          type="text"
          class="form-control"
          placeholder="(xx) xxxxx-xxxx"
          formControlName="phoneNumber"
          mask="(00) 00000-0000"
        />
      </div>
      <div class="col-12 col-md-6">
        <label class="form-label">Raça</label>
        <select
          class="form-select"
          formControlName="race"
          aria-label="Default select example"
        >
          <option value="">Selecione</option>
          <option value="Branco">Branco</option>
          <option value="Pardo">Pardo</option>
          <option value="Negro">Negro</option>
          <option value="Amarelo">Amarelo</option>
          <option value="Indígena">Indígena</option>
          <option value="Prefiro não informar">Prefiro não informar</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <label for="emailUser" class="form-label">Email</label>
        <input
          type="email"
          name="emailUser"
          id="emailUser"
          placeholder="Email"
          class="form-control"
          formControlName="email"
        />
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-8">
        <label for="cityUser" class="form-label">Cidade</label>
        <input
          type="text"
          name="cityUser"
          id="cityUser"
          placeholder="Cidade"
          class="form-control"
          formControlName="city"
        />
      </div>
      <div class="col-12 col-md-4">
        <label class="form-label">Estado</label>
        <select
          class="form-select"
          formControlName="uf"
          aria-label="Default select example"
        >
          <option value="">Selecione</option>
          <option value="AC">AC</option>
          <option value="AL">AL</option>
          <option value="AP">AP</option>
          <option value="AM">AM</option>
          <option value="BA">BA</option>
          <option value="CE">CE</option>
          <option value="DF">DF</option>
          <option value="ES">ES</option>
          <option value="GO">GO</option>
          <option value="MA">MA</option>
          <option value="MT">MT</option>
          <option value="MS">MS</option>
          <option value="MG">MG</option>
          <option value="PA">PA</option>
          <option value="PB">PB</option>
          <option value="PR">PR</option>
          <option value="PE">PE</option>
          <option value="PI">PI</option>
          <option value="RJ">RJ</option>
          <option value="RN">RN</option>
          <option value="RS">RS</option>
          <option value="RO">RO</option>
          <option value="RR">RR</option>
          <option value="SC">SC</option>
          <option value="SP">SP</option>
          <option value="SE">SE</option>
          <option value="TO">TO</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-6">
        <label for="addressUser" class="form-label">Endereço</label>
        <input
          type="text"
          name="addressUser"
          id="addressUser"
          placeholder="Endereço"
          class="form-control"
          formControlName="address"
        />
      </div>
      <div class="col-12 col-md-2">
        <label for="addressNumberUser" class="form-label">Número</label>
        <input
          type="number"
          name="addressNumberUser"
          id="addressNumberUser"
          placeholder="xxx"
          class="form-control"
          formControlName="addressNumber"
        />
      </div>
      <div class="col-12 col-md-4">
        <label for="cepUser" class="form-label">CEP</label>
        <input
          type="text"
          name="cepUser"
          id="cepUser"
          placeholder="CEP"
          class="form-control"
          formControlName="cep"
          mask="00000-000"
        />
      </div>
    </div>
    <ng-container *ngIf="hasCurriculum; else update">
      <button class="btn btn-primary" type="button" (click)="onUpdate()">
        Dados acadêmicos
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-arrow-right"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"
          />
        </svg>
      </button>
    </ng-container>
    <ng-template #update>
      <button class="btn btn-primary" type="button" (click)="onSubmit()">
        Dados acadêmicos
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-arrow-right"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"
          />
        </svg>
      </button>
    </ng-template>

    <div class="progress">
      <i class="bi bi-circle-fill" routerLink="/criar-curriculo/etapa2"></i>
      <i class="bi bi-circle-fill" routerLink="/criar-curriculo/etapa2"></i>
      <i class="bi bi-circle-fill" routerLink="/criar-curriculo/etapa3"></i>
      <i class="bi bi-circle-fill" routerLink="/criar-curriculo/etapa4"></i>
    </div>
  </form>
</div>
